"use strict";(self.webpackChunkbookhelper_ts_sass=self.webpackChunkbookhelper_ts_sass||[]).push([[601],{2507:(e,t,n)=>{n.d(t,{Z:()=>m});var a=n(7294),r=n(1514),o=n(917),i=n(846);const l=(0,o.iv)("font-family:",i.BR,";position:absolute;left:0;bottom:-20;text-decoration:none;font-size:12px;color:rgb(105, 105, 105);width:60px;:hover{color:black;}@media (max-width: 825px){position:unset;margin:0 auto;display:block;}",""),s={name:"1ryzspv",styles:"font-size:14px;color:grey;margin-left:50px;text-decoration:none;@media (max-width: 470px){margin:0;margin-right:30px;}"},c=(0,r.Z)("a",{target:"emz64ce0"})((e=>{switch(e["data-mode"]){case"DetailPageImgDiv":return l;case"FooterSNS":return s;default:return null}}),";"),m=function(e){const{className:t,href:n,target:r,rel:o,children:i}=e;return a.createElement(c,{"data-mode":t,href:n,target:r,rel:o},i)}},2601:(e,t,n)=>{n.r(t),n.d(t,{default:()=>ee});var a=n(246),r=n(7294),o=n(6974),i=n(1514);const l=(0,i.Z)("div",{target:"e1pj8lnr3"})({name:"k4laeb",styles:"position:relative;width:100%;height:100vh;display:flex;justify-content:center;align-items:center;@media (max-width: 825px){height:unset;}"}),s=(0,i.Z)("div",{target:"e1pj8lnr2"})({name:"ad9v4f",styles:"position:relative;width:800px;display:flex;flex-direction:row;@media (max-width: 825px){width:100%;flex-direction:column;}"}),c=(0,i.Z)("div",{target:"e1pj8lnr1"})({name:"1y4r7qn",styles:"position:relative;height:280px;float:left;box-shadow:0px 1px 1px rgba(0, 0, 0, 0.3),0px 2px 2px rgba(0, 0, 0, 0.22);@media (max-width: 825px){text-align:center;box-shadow:unset;margin-top:50px;}"}),m=(0,i.Z)("div",{target:"e1pj8lnr0"})({name:"483s7u",styles:"width:100%;margin-left:70px;& hr{margin:20px 0;border:2px solid rgb(230, 230, 230);}@media (max-width: 825px){margin:0px;margin-top:50px;padding:0 30px;}"});var d=n(5710),u=n(8725),g=n(5584),h=n(232),f=n(3137),p=n(8271),b=n(917);const v={name:"1kcc77f",styles:"resize:none;vertical-align:middle;:focus{outline:none;}"},x=(0,b.iv)(v," width:50px;height:25px;padding-left:10px;",""),y=(0,b.iv)(v," width:420px;height:55px;padding:10px;",""),C=(0,i.Z)("textarea",{target:"e14aasxv0"})((e=>{switch(e["data-mode"]){case"DetailPageRating":return x;case"DetailPageOneline":return y;default:return null}}),";"),E=function(e){const{className:t,onChange:n,value:a,maxLength:o}=e;return r.createElement(C,{"data-mode":t,onChange:n,value:a,maxLength:o})},w=function(e){const{book:t,infoMode:n,editMode:a,rating:o,onChangeRating:i,onChangeShortComment:l,shortComment:s}=e,c=[t.author,t.categoryId,t.pubDate],m=[["작가    ",t.author],["장르    ",(0,g.Z)(t.categoryId)],["출판일",(0,u.Z)(t.pubDate)]],d=["DetailPageFirst","DetailPageSecond"],b=["평점    ",a?r.createElement(r.Fragment,null,r.createElement(E,{className:"DetailPageRating",onChange:i,value:o}),r.createElement(p.Z,{className:"DetailPageRtnComment"},"5점이 만점입니다.")):r.createElement(p.Z,{className:"DetailPage"},o)],v=["한줄평",a?r.createElement(E,{className:"DetailPageOneline",onChange:l,value:"There's no comment"===s?"":s,maxLength:34}):r.createElement(p.Z,{className:"DetailPage"},s)];return r.createElement("div",null,r.createElement(h.Z,{className:"DetailTitle"},t.title),c.map(((e,t)=>e&&r.createElement(f.Z,{className:"DetailPage",classNameArr:d,textArr:m[t]}))),!n&&r.createElement(f.Z,{className:"DetailPage",classNameArr:d,textArr:b}),!n&&r.createElement(f.Z,{className:"DetailPage",classNameArr:d,textArr:v}))};var D=n(7462),k=n(3366);const S=r.useLayoutEffect;var Z=function(e,t){"function"!=typeof e?e.current=t:e(t)};var R={"min-height":"0","max-height":"none",height:"0",visibility:"hidden",overflow:"hidden",position:"absolute","z-index":"-1000",top:"0",right:"0"},N=function(e){Object.keys(R).forEach((function(t){e.style.setProperty(t,R[t],"important")}))},z=null,M=function(){},A=["borderBottomWidth","borderLeftWidth","borderRightWidth","borderTopWidth","boxSizing","fontFamily","fontSize","fontStyle","fontWeight","letterSpacing","lineHeight","paddingBottom","paddingLeft","paddingRight","paddingTop","tabSize","textIndent","textRendering","textTransform","width","wordBreak"],L=!!document.documentElement.currentStyle,P=function(e,t){var n,a=e.cacheMeasurements,o=e.maxRows,i=e.minRows,l=e.onChange,s=void 0===l?M:l,c=e.onHeightChange,m=void 0===c?M:c,d=(0,k.Z)(e,["cacheMeasurements","maxRows","minRows","onChange","onHeightChange"]),u=void 0!==d.value,g=(0,r.useRef)(null),h=function(e,t){var n=(0,r.useRef)();return(0,r.useCallback)((function(a){e.current=a,n.current&&Z(n.current,null),n.current=t,t&&Z(t,a)}),[t])}(g,t),f=(0,r.useRef)(0),p=(0,r.useRef)(),b=function(){var e=g.current,t=a&&p.current?p.current:function(e){var t=window.getComputedStyle(e);if(null===t)return null;var n,a=(n=t,A.reduce((function(e,t){return e[t]=n[t],e}),{})),r=a.boxSizing;return""===r?null:(L&&"border-box"===r&&(a.width=parseFloat(a.width)+parseFloat(a.borderRightWidth)+parseFloat(a.borderLeftWidth)+parseFloat(a.paddingRight)+parseFloat(a.paddingLeft)+"px"),{sizingStyle:a,paddingSize:parseFloat(a.paddingBottom)+parseFloat(a.paddingTop),borderSize:parseFloat(a.borderBottomWidth)+parseFloat(a.borderTopWidth)})}(e);if(t){p.current=t;var n=function(e,t,n,a){void 0===n&&(n=1),void 0===a&&(a=1/0),z||((z=document.createElement("textarea")).setAttribute("tabindex","-1"),z.setAttribute("aria-hidden","true"),N(z)),null===z.parentNode&&document.body.appendChild(z);var r=e.paddingSize,o=e.borderSize,i=e.sizingStyle,l=i.boxSizing;Object.keys(i).forEach((function(e){var t=e;z.style[t]=i[t]})),N(z),z.value=t;var s=function(e,t){var n=e.scrollHeight;return"border-box"===t.sizingStyle.boxSizing?n+t.borderSize:n-t.paddingSize}(z,e);z.value="x";var c=z.scrollHeight-r,m=c*n;"border-box"===l&&(m=m+r+o),s=Math.max(m,s);var d=c*a;return"border-box"===l&&(d=d+r+o),[s=Math.min(d,s),c]}(t,e.value||e.placeholder||"x",i,o),r=n[0],l=n[1];f.current!==r&&(f.current=r,e.style.setProperty("height",r+"px","important"),m(r,{rowHeight:l}))}};return(0,r.useLayoutEffect)(b),n=function(e){var t=(0,r.useRef)(e);return S((function(){t.current=e})),t}(b),(0,r.useLayoutEffect)((function(){var e=function(e){n.current(e)};return window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}}),[]),(0,r.createElement)("textarea",(0,D.Z)({},d,{onChange:function(e){u||b(),s(e)},ref:h}))};const I=(0,r.forwardRef)(P);var F=n(6898),O=n(4199),T=n(444);function V(e,t){if(void 0===e.inserted[t.name])return e.insert("",t,e.sheet,!0)}function j(e,t,n){var a=[],r=(0,T.fp)(e,a,n);return a.length<2?n:r+t(a)}var U=function e(t){for(var n="",a=0;a<t.length;a++){var r=t[a];if(null!=r){var o=void 0;switch(typeof r){case"boolean":break;case"object":if(Array.isArray(r))o=e(r);else for(var i in o="",r)r[i]&&i&&(o&&(o+=" "),o+=i);break;default:o=r}o&&(n&&(n+=" "),n+=o)}}return n};var W=function(e){var t=(0,F.Z)(e);t.sheet.speedy=function(e){this.isSpeedy=e},t.compat=!0;var n=function(){for(var e=arguments.length,n=new Array(e),a=0;a<e;a++)n[a]=arguments[a];var r=(0,O.O)(n,t.registered,void 0);return(0,T.My)(t,r,!1),t.key+"-"+r.name};return{css:n,cx:function(){for(var e=arguments.length,a=new Array(e),r=0;r<e;r++)a[r]=arguments[r];return j(t.registered,n,U(a))},injectGlobal:function(){for(var e=arguments.length,n=new Array(e),a=0;a<e;a++)n[a]=arguments[a];var r=(0,O.O)(n,t.registered);V(t,r)},keyframes:function(){for(var e=arguments.length,n=new Array(e),a=0;a<e;a++)n[a]=arguments[a];var r=(0,O.O)(n,t.registered),o="animation-"+r.name;return V(t,{name:r.name,styles:"@keyframes "+o+"{"+r.styles+"}"}),o},hydrate:function(e){e.forEach((function(e){t.inserted[e]=!0}))},flush:function(){t.registered={},t.inserted={},t.sheet.flush()},sheet:t.sheet,cache:t,getRegisteredStyles:T.fp.bind(null,t.registered),merge:j.bind(null,t.registered,n)}}({key:"css"}),B=(W.flush,W.hydrate,W.cx,W.merge,W.getRegisteredStyles,W.injectGlobal,W.keyframes,W.css);W.sheet,W.cache;const H=(0,i.Z)("div",{target:"e1lvis210"})({name:"rro8en",styles:"color:rgb(105, 105, 105);text-align:justify"});var _=n(7657),J=n(1591);const Y=function(e){const{shortComment:t,longComment:n,onCangeLongComment:a,book:o,rating:i,bookIsbn:l,editMode:s,setEditMode:c,infoMode:m,setInfoMode:d}=e,[u,g,p,b,v]=(e=>{const{setInfoMode:t,setEditMode:n,bookIsbn:a,rating:o,book:i,shortComment:l,longComment:s}=e;return[(0,r.useCallback)((()=>{t((e=>!e))}),[t]),(0,r.useCallback)((()=>{n((e=>!e))}),[n]),(0,r.useCallback)((()=>{n(!1)}),[n]),(0,r.useCallback)((async e=>{e.preventDefault();try{await(0,J.pl)((0,J.JU)(_.w,"UserEval",_.O.currentUser.uid),{[a]:Object.assign({},i,{rating:o,shortComment:l,longComment:s,editDate:Date()})},{merge:!0})}catch(e){console.log(e)}n(!1),t(!1)}),[i,a,s,o,n,t,l]),(0,r.useCallback)((async()=>{if(window.confirm("정말로 이 후기를 지우시겠습니까?")){const e=(0,J.JU)(_.w,"UserEval",_.O.currentUser.uid);await(0,J.r7)(e,{[a]:(0,J.AK)()}).then((()=>window.alert("삭제 완료"))).catch((e=>console.log(e)))}}),[a])]})({setInfoMode:d,setEditMode:c,bookIsbn:l,rating:i,book:o,shortComment:t,longComment:n}),[x,y]=[["Finish","Cancle"],[b,p]],[C,E]=[["Comment"],[u]],[w,D]=[["Info","Edit","Delete"],[u,g,v]];return s?r.createElement("div",{style:{minHeight:"180px"}},((e,t)=>r.createElement(I,{className:B({name:"kk8v5",styles:"width:100%;padding:10px;&:focus{outline:none;}"}),minRows:10,placeholder:"",value:"You have no commnet for this book"===e?"":e,onChange:t}))(n,a),r.createElement(f.Z,{className:"DetailComment",textArr:x,onClickArr:y})):m?r.createElement(r.Fragment,null,r.createElement(H,null,r.createElement(h.Z,{className:"default"},o.description)),r.createElement(f.Z,{className:"DetailComment",textArr:C,onClickArr:E})):r.createElement(r.Fragment,null,r.createElement(h.Z,{className:"DetailCommentLong"},n),r.createElement(f.Z,{className:"DetailComment",textArr:w,onClickArr:D}))};var G=n(1068),q=n(2507),K=n(415),Q=n(4148),X=n(9669),$=n.n(X);const ee=function(){const{isbn:e}=(0,o.UO)(),[t,n,i]=(0,a.Z)(0),[u,g,f]=(0,a.Z)("There's no comment"),[p,b,v]=(0,a.Z)("You have no commnet for this book"),[x,y]=(0,r.useState)(!1),[C,E]=(0,r.useState)(!1),D=(0,K.Z)(-1),[k,S,Z]=(e=>{const{isbn:t,setRating:n,setShortComment:a,setLongComment:o,setInfoMode:i}=e,[l,s]=(0,r.useState)({}),[c,m]=(0,r.useState)(0),[d,u]=(0,r.useState)(!1),g=Q.ZP.getState().isLoggedIn,h=(0,r.useCallback)((async()=>{if(g){const e=(await(0,J.QT)((0,J.JU)(_.w,"UserEval",_.O.currentUser.uid))).data();e&&e[c]?e&&(i(!1),n(e[c].rating),a(e[c].shortComment),o(e[c].longComment)):i(!0)}else i(!0),n(0),a("There's no comment"),o("You have no commnet for this book");u(!1)}),[c,g,i,o,n,a]);return(0,r.useEffect)((()=>{u(!0),$().get(`https://www.interbookserver.kro.kr:3085/isbnsearch/${t}`).then((e=>{e.data.items[0]&&(s(e.data.items[0]),m(e.data.items[0].isbn))}))}),[t,s,u]),(0,r.useEffect)((()=>{Object.keys(l).length&&h()}),[l,h,g]),[l,d,c]})({isbn:e,setRating:n,setShortComment:g,setLongComment:b,setInfoMode:E});return r.createElement(r.Fragment,null,r.createElement(d.Z,{loading:S}),!S&&r.createElement(l,null,r.createElement(s,null,r.createElement(h.Z,{className:"DetailPageTopBtn",onClick:D},r.createElement(G.Z,{className:"DetailPageXBtn",src:"https://user-images.githubusercontent.com/79993356/154732530-9f85dfa4-e9f8-484a-acdf-6371eb981bc5.png",alt:"null"})),r.createElement(c,null,r.createElement(G.Z,{className:"default",src:k.coverLargeUrl,alt:k.title}),r.createElement(q.Z,{className:"DetailPageImgDiv",href:k.link,target:"_blank",rel:"noreferrer"},"More Info?")),r.createElement(m,null,r.createElement(w,{book:k,infoMode:C,editMode:x,rating:t,onChangeRating:i,onChangeShortComment:f,shortComment:u}),r.createElement("hr",null),r.createElement(Y,{shortComment:u,longComment:p,onCangeLongComment:v,book:k,rating:t,bookIsbn:Z,editMode:x,setEditMode:y,infoMode:C,setInfoMode:E})))))}},5584:(e,t,n)=>{n.d(t,{Z:()=>r});const a={100:"국내도서",101:"국내도서>소설",102:"국내도서>시/에세이",103:"국내도서>예술/대중문화",104:"국내도서>사회과학",105:"국내도서>역사와 문화",107:"국내도서>잡지",108:"국내도서>만화",109:"국내도서>유아",110:"국내도서>아동",111:"국내도서>가정과 생활",112:"국내도서>청소년",113:"국내도서>초등학습서",114:"국내도서>고등학습서",115:"국내도서>국어/외국어/사전",116:"국내도서>자연과 과학",117:"국내도서>경제경영",118:"국내도서>자기계발",119:"국내도서>인문",120:"국내도서>종교/역학",122:"국내도서>컴퓨터/인터넷",123:"국내도서>자격서/수험서",124:"국내도서>취미/레저",125:"국내도서>전공도서/대학교재",126:"국내도서>건강/뷰티",128:"국내도서>여행",129:"국내도서>중등학습서",200:"외국도서",201:"외국도서>어린이",203:"외국도서>ELT/사전",205:"외국도서>문학",206:"외국도서>경영/인문",207:"외국도서>예술/디자인",208:"외국도서>실용",209:"외국도서>해외잡지",210:"외국도서>대학교재/전문서적",211:"외국도서>컴퓨터",214:"외국도서>일본도서",215:"외국도서>프랑스도서",216:"외국도서>중국도서",217:"외국도서>해외주문원서",300:"음반>",301:"음반>가요",302:"음반>Pop",303:"음반>Rock",304:"음반>일본음악",305:"음반>World Music",306:"음반>Jazz",307:"음반>클래식",308:"음반>국악",309:"음반>뉴에이지/명상",310:"음반>O.S.T",311:"음반>종교음악",312:"음반>유아/아동/태교",313:"음반>수입음반",314:"음반>액세서리/관련상품",315:"음반>뮤직 DVD",319:"음반>해외구매",320:"음반>LP",400:"DVD>",409:"DVD>애니메이션",411:"DVD>다큐멘터리",412:"DVD>TV시리즈",417:"DVD>건강/취미/스포츠",425:"DVD>영화",426:"DVD>해외구매",427:"DVD>기타",428:"DVD>블루레이",429:"DVD>유아동/교육DVD",430:"DVD>EBS 교육용"},r=function(e){let t=a[e]?a[e].match(/(.+)>(.+)/):[];return t.length>2?t[2]:""}},8725:(e,t,n)=>{n.d(t,{Z:()=>a});const a=function(e){return e?e.slice(0,4)+"."+e.slice(4,6)+"."+e.slice(6,8):""}}}]);