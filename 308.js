"use strict";(self.webpackChunkbook_comment_web=self.webpackChunkbook_comment_web||[]).push([[308],{2507:(e,t,a)=>{a.d(t,{Z:()=>i});var n=a(7294),o=a(5366);const r={name:"jbzaii",styles:"font-family:'eng1 font regular';position:absolute;left:0;bottom:-20;text-decoration:none;font-size:12px;color:rgb(105, 105, 105);width:60px;:hover{color:black;}@media (max-width: 825px){position:unset;margin:0 auto;display:block;}"},l={name:"1ryzspv",styles:"font-size:14px;color:grey;margin-left:50px;text-decoration:none;@media (max-width: 470px){margin:0;margin-right:30px;}"},s=(0,o.Z)("a",{target:"e1131kdf0"})((e=>{switch(e["data-mode"]){case"BookDetail--outerLink":return r;case"FooterSNS":return l;default:return null}}),";"),i=function(e){const{className:t,href:a,target:o,rel:r,children:l}=e;return n.createElement(s,{"data-mode":t,href:a,target:o,rel:r},l)}},148:(e,t,a)=>{a.d(t,{Z:()=>m});var n=a(1068),o=a(7294),r=a(5366);const l={name:"zjik7",styles:"display:flex"},s={name:"1y4r7qn",styles:"position:relative;height:280px;float:left;box-shadow:0px 1px 1px rgba(0, 0, 0, 0.3),0px 2px 2px rgba(0, 0, 0, 0.22);@media (max-width: 825px){text-align:center;box-shadow:unset;margin-top:50px;}"},i=(0,r.Z)("div",{target:"e182ewj20"})((e=>{switch(e["data-mode"]){case"SocialLogin":return l;case"BookDetail":return s;default:return null}}),";"),m=function(e){const{className:t,src:a,alt:r=t,onSocialClick:l,children:s}=e;return o.createElement(i,{"data-mode":t},o.createElement(n.Z,{className:t,src:a,alt:r,onClick:l}),s)}},1308:(e,t,a)=>{a.r(t),a.d(t,{default:()=>R});var n=a(246),o=a(7294),r=a(6974),l=a(5366);const s=(0,l.Z)("div",{target:"e1d0wki42"})({name:"k4laeb",styles:"position:relative;width:100%;height:100vh;display:flex;justify-content:center;align-items:center;@media (max-width: 825px){height:unset;}"}),i=(0,l.Z)("div",{target:"e1d0wki41"})({name:"ad9v4f",styles:"position:relative;width:800px;display:flex;flex-direction:row;@media (max-width: 825px){width:100%;flex-direction:column;}"}),m=(0,l.Z)("div",{target:"e1d0wki40"})({name:"483s7u",styles:"width:100%;margin-left:70px;& hr{margin:20px 0;border:2px solid rgb(230, 230, 230);}@media (max-width: 825px){margin:0px;margin-top:50px;padding:0 30px;}"});var c=a(5710),d=a(8725),g=a(5584),u=a(232),h=a(3137),f=a(8271),p=a(917);const x={name:"1kcc77f",styles:"resize:none;vertical-align:middle;:focus{outline:none;}"},b=(0,p.iv)(x," width:50px;height:25px;padding-left:10px;",""),k=(0,p.iv)(x," width:420px;height:55px;padding:10px;",""),C=(0,l.Z)("textarea",{target:"ebfvtp50"})((e=>{switch(e["data-mode"]){case"DetailPageRating":return b;case"DetailPageOneline":return k;default:return null}}),";"),D=function(e){const{className:t,onChange:a,value:n,maxLength:r}=e;return o.createElement(C,{"data-mode":t,onChange:a,value:n,maxLength:r})},E=function(e){const{book:t,infoMode:a,editMode:n,rating:r,onChangeRating:l,onChangeShortComment:s,shortComment:i}=e,m=[t.author,t.categoryId,t.pubDate],c=[["작가    ",t.author],["장르    ",(0,g.Z)(t.categoryId)],["출판일",(0,d.Z)(t.pubDate)]],p=["DetailPageFirst","DetailPageSecond"],x=["평점    ",n?o.createElement(o.Fragment,null,o.createElement(D,{className:"DetailPageRating",onChange:l,value:r}),o.createElement(f.Z,{className:"DetailPageRtnComment"},"5점이 만점입니다.")):o.createElement(f.Z,{className:"DetailPage"},r)],b=["한줄평",n?o.createElement(D,{className:"DetailPageOneline",onChange:s,value:"There's no comment"===i?"":i,maxLength:34}):o.createElement(f.Z,{className:"DetailPage"},i)];return o.createElement("div",null,o.createElement(u.Z,{className:"DetailTitle"},t.title),m.map(((e,t)=>e&&o.createElement(h.Z,{className:"DetailPage",classNameArr:p,textArr:c[t],key:e}))),!a&&o.createElement(h.Z,{className:"DetailPage",classNameArr:p,textArr:x}),!a&&o.createElement(h.Z,{className:"DetailPage",classNameArr:p,textArr:b}))};var v=a(8514),w=a(8592);const Z=(0,l.Z)("div",{target:"e1q85t8y0"})({name:"rro8en",styles:"color:rgb(105, 105, 105);text-align:justify"});var y=a(7657),N=a(1591);const M=function(e){const{shortComment:t,longComment:a,onCangeLongComment:n,book:r,rating:l,bookIsbn:s,editMode:i,setEditMode:m,infoMode:c,setInfoMode:d}=e,[g,f,p,x,b]=(e=>{const{setInfoMode:t,setEditMode:a,bookIsbn:n,rating:r,book:l,shortComment:s,longComment:i}=e;return[(0,o.useCallback)((()=>{t((e=>!e))}),[t]),(0,o.useCallback)((()=>{a((e=>!e))}),[a]),(0,o.useCallback)((()=>{a(!1)}),[a]),(0,o.useCallback)((async e=>{e.preventDefault();try{await(0,N.pl)((0,N.JU)(y.w,"UserEval",y.O.currentUser.uid),{[n]:Object.assign({},l,{rating:r,shortComment:s,longComment:i,editDate:Date()})},{merge:!0})}catch(e){console.log(e)}a(!1),t(!1)}),[l,n,i,r,a,t,s]),(0,o.useCallback)((async()=>{if(window.confirm("정말로 이 후기를 지우시겠습니까?")){const e=(0,N.JU)(y.w,"UserEval",y.O.currentUser.uid);await(0,N.r7)(e,{[n]:(0,N.AK)()}).then((()=>window.alert("삭제 완료"))).catch((e=>console.log(e)))}}),[n])]})({setInfoMode:d,setEditMode:m,bookIsbn:s,rating:l,book:r,shortComment:t,longComment:a}),[k,C]=[["Finish","Cancle"],[x,p]],[D,E]=[["Comment"],[g]],[M,S]=[["Info","Edit","Delete"],[g,f,b]];return i?o.createElement("div",{style:{minHeight:"180px"}},((e,t)=>o.createElement(v.Z,{className:(0,w.iv)({name:"kk8v5",styles:"width:100%;padding:10px;&:focus{outline:none;}"}),minRows:10,placeholder:"",value:"You have no commnet for this book"===e?"":e,onChange:t}))(a,n),o.createElement(h.Z,{className:"DetailComment",textArr:k,onClickArr:C})):c?o.createElement(o.Fragment,null,o.createElement(Z,null,o.createElement(u.Z,{className:"default"},r.description)),o.createElement(h.Z,{className:"DetailComment",textArr:D,onClickArr:E})):o.createElement(o.Fragment,null,o.createElement(u.Z,{className:"DetailCommentLong"},a),o.createElement(h.Z,{className:"DetailComment",textArr:M,onClickArr:S}))};var S=a(1068),I=a(2507),L=a(415),P=a(4148),V=a(9669),A=a.n(V);var U=a(148);const O=a.p+"7c62f58ce298ec354c7917cf7f3759e2.webp",R=function(){const{isbn:e}=(0,r.UO)(),[t,a,l]=(0,n.Z)(0),[d,g,u]=(0,n.Z)("There's no comment"),[h,f,p]=(0,n.Z)("You have no commnet for this book"),[x,b]=(0,o.useState)(!1),[k,C]=(0,o.useState)(!1),D=(0,L.Z)(-1),[v,w,Z]=(e=>{const{isbn:t,setRating:a,setShortComment:n,setLongComment:r,setInfoMode:l}=e,[s,i]=(0,o.useState)({}),[m,c]=(0,o.useState)(0),[d,g]=(0,o.useState)(!1),u=P.ZP.getState().isLoggedIn,h=(0,o.useCallback)((async()=>{if(u){const e=(await(0,N.QT)((0,N.JU)(y.w,"UserEval",y.O.currentUser.uid))).data();e&&e[m]?e&&(l(!1),a(e[m].rating),n(e[m].shortComment),r(e[m].longComment)):l(!0)}else l(!0),a(0),n("There's no comment"),r("You have no commnet for this book");g(!1)}),[m,u,l,r,a,n]);return(0,o.useEffect)((()=>{g(!0),A().get(`http://localhost:3085/isbnsearch/${t}`).then((e=>{e.data.items[0]&&(i(e.data.items[0]),c(e.data.items[0].isbn))}))}),[t,i,g]),(0,o.useEffect)((()=>{Object.keys(s).length&&h()}),[s,h,u]),[s,d,m]})({isbn:e,setRating:a,setShortComment:g,setLongComment:f,setInfoMode:C});return o.createElement(o.Fragment,null,o.createElement(c.Z,{loading:w}),!w&&o.createElement(s,null,o.createElement(i,null,o.createElement(S.Z,{className:"BookDetail--Xbtn",src:O,alt:"null",onClick:D}),o.createElement(U.Z,{className:"BookDetail",src:v.coverLargeUrl,alt:v.title},o.createElement(I.Z,{className:"BookDetail--outerLink",href:v.link,target:"_blank",rel:"noreferrer"},"More Info?")),o.createElement(m,null,o.createElement(E,{book:v,infoMode:k,editMode:x,rating:t,onChangeRating:l,onChangeShortComment:u,shortComment:d}),o.createElement("hr",null),o.createElement(M,{shortComment:d,longComment:h,onCangeLongComment:p,book:v,rating:t,bookIsbn:Z,editMode:x,setEditMode:b,infoMode:k,setInfoMode:C})))))}},5584:(e,t,a)=>{a.d(t,{Z:()=>o});const n={100:"국내도서",101:"국내도서>소설",102:"국내도서>시/에세이",103:"국내도서>예술/대중문화",104:"국내도서>사회과학",105:"국내도서>역사와 문화",107:"국내도서>잡지",108:"국내도서>만화",109:"국내도서>유아",110:"국내도서>아동",111:"국내도서>가정과 생활",112:"국내도서>청소년",113:"국내도서>초등학습서",114:"국내도서>고등학습서",115:"국내도서>국어/외국어/사전",116:"국내도서>자연과 과학",117:"국내도서>경제경영",118:"국내도서>자기계발",119:"국내도서>인문",120:"국내도서>종교/역학",122:"국내도서>컴퓨터/인터넷",123:"국내도서>자격서/수험서",124:"국내도서>취미/레저",125:"국내도서>전공도서/대학교재",126:"국내도서>건강/뷰티",128:"국내도서>여행",129:"국내도서>중등학습서",200:"외국도서",201:"외국도서>어린이",203:"외국도서>ELT/사전",205:"외국도서>문학",206:"외국도서>경영/인문",207:"외국도서>예술/디자인",208:"외국도서>실용",209:"외국도서>해외잡지",210:"외국도서>대학교재/전문서적",211:"외국도서>컴퓨터",214:"외국도서>일본도서",215:"외국도서>프랑스도서",216:"외국도서>중국도서",217:"외국도서>해외주문원서",300:"음반>",301:"음반>가요",302:"음반>Pop",303:"음반>Rock",304:"음반>일본음악",305:"음반>World Music",306:"음반>Jazz",307:"음반>클래식",308:"음반>국악",309:"음반>뉴에이지/명상",310:"음반>O.S.T",311:"음반>종교음악",312:"음반>유아/아동/태교",313:"음반>수입음반",314:"음반>액세서리/관련상품",315:"음반>뮤직 DVD",319:"음반>해외구매",320:"음반>LP",400:"DVD>",409:"DVD>애니메이션",411:"DVD>다큐멘터리",412:"DVD>TV시리즈",417:"DVD>건강/취미/스포츠",425:"DVD>영화",426:"DVD>해외구매",427:"DVD>기타",428:"DVD>블루레이",429:"DVD>유아동/교육DVD",430:"DVD>EBS 교육용"},o=function(e){let t=n[e]?n[e].match(/(.+)>(.+)/):[];return t.length>2?t[2]:""}},8725:(e,t,a)=>{a.d(t,{Z:()=>n});const n=function(e){return e?e.slice(0,4)+"."+e.slice(4,6)+"."+e.slice(6,8):""}}}]);